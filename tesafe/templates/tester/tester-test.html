{% load static %}
<!DOCTYPE html>
<html>
<head>
	<title>Tester | Test</title>


	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">

	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

	<!-- Popper JS -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

	<!-- Latest compiled JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>


<!-- fontawesome cdn -->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link href="https://fonts.googleapis.com/css?family=Ubuntu&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Sen&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&display=swap" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="{% static 'tester/css/tester-test.css' %}">
	<style>
		.cursor{
			cursor: pointer;
		}
		.selected_pwg{
			    background-color: #007bff !important;
				display: inline-block;
				color: white;
				border-radius: 25px;
		}
		.mx-n5{
			    margin-left: -5rem!important;
		}
		.list-group-item {
			position: relative;
			display: block;
			padding: .75rem 1.25rem;
			background-color: #fff;
			border:0px;
			//padding-left: 67px;
		}
	</style>
</head>
<body>



	<section class="bg-light">
		<div class="container-fluid">
			<nav class="navbar navbar-expand-lg navbar-light ">

				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>

				<div class="collapse navbar-collapse justify-content" id="navbarSupportedContent">
					<ul class="navbar-nav">
						<li class="nav-item pl-3">
							<a class="nav-link "  href="tester-home">Home <span class="sr-only">(current)</span></a>
						</li>
						<li class="nav-item pl-3">
							<a class="nav-link active" href="tester-test">Test</a>
						</li>


					</ul>

				</div>

				<a class="navbar-brand pr-3" href="#" style="color: green; font-size: 30px; position: relative;"><i class="fas fa-bell "></i><span class="badge badge-danger" style="position: absolute; top: -5px; font-size: 14px; left:15px; ">1</span></a>

				<div class="dropdown  dropleft float-xl-right mb-0" >
					<button  class="btn btn-success btn-sm dropdown-toggle" data-toggle="dropdown">
						<i class="fas fa-ellipsis-v"></i>
					</button>
					<div class="dropdown-menu">
						<a class="dropdown-item" href="#" >Chat With Admin</a>
						<a class="dropdown-item" href="tester-home" >Exit</a>
					</div>
				</div>


			</nav>
		</div>
	</section>


	<section class="bg-detail">
		<div class="container-fluid">
			<div class="row justify-content-center">

				<div class="col-md-10  py-5 px-5">

					<div class="row justify-content-center bg-button-2 p-xl-4 mt-3" id="div-1" >

						<div class="col-md-8">

							<header>
								<nav class="navbar navbar-light justify-content-center">
									<div class="row "><div class="col-md" style="display:inline-flex">
									<a class="h4 text-dark font-weight-bold pt-2 test_tag">Testing PWG: </a>
									<form class="form-inline px-3" >
										<div class="input-group-prepend mb-1 mr-2">
											<span class="input-group-text" id="addon-wrapping">
												<i class="fas fa-search fa-1x"></i>
											</span>
											<input type="text" class="form-control" placeholder="PWG Name" aria-label="Username" aria-describedby="addon-wrapping" id="myInput" style="font-weight:700;">
										</div>

									</form>
									</div></div>
								</nav>
							</header>


							<div class="row justify-content-center next-password">
								<div class="col-md">
									<div class="row justify-content-center bg-button-2 p-2 mb-3" id="div-4">

										<div class="col-md-6  my-2" id="password-tagline">
											<div style="display:flex;" class="text-center">
												<p id="password" class="h6 test_tag">The XX<sup>th</sup> Password</p>
												<p id="randomText" class="font-weight-bolder ml-3"></p>
											</div>
											<div class="col-md-12  mt-5" id="buttons" style="display:none">

													<button class="btn btn-info text-white  my-2 mx-2" id="pass_pwg" disabled onclick="myfun2()">Pass</button>

													<button class="btn btn-primary text-white btn-sm my-2 mx-2" disabled id="yourButton">Get Password</button>

													<button class="btn btn-danger text-white my-2 mx-2" id="fail_button" disabled onclick="myfun3()">Fail</button>

											</div>
										</div>
									</div>
								</div>
							</div>

							<div class="row">
								<div class="col-md-2"></div>
								<div class="col-4">
									<ul class="list-group  mt-5 text-center" id="myTable">
								<li class="list-group-item cursor" id="pwg0" onclick="select_pwg('PWG11')" style="border-radius: 30px;">
									 PWG11
								</li>

								<li class="list-group-item cursor" id="pwg1" onclick="select_pwg('PWG12')">
									PWG12
								</li>

								<li class="list-group-item cursor" id="pwg2" onclick="select_pwg('PWG13')">
									PWG13
								</li>

								<li class="list-group-item cursor" id="pwg3" onclick="select_pwg('PWG14')">
									PWG14
								</li>

								<li class="list-group-item cursor" id="pwg4" onclick="select_pwg('PWG15')">
									PWG15
								</li>

								<li class="list-group-item cursor" id="pwg5" onclick="select_pwg('PWG17')">
									PWG17
								</li>
								<li class="list-group-item cursor" id="pwg6" onclick="select_pwg('PWG09')">
									PWG09
								</li>
								<li class="list-group-item" style="display:none;">No more PWG</li>
							</ul>
								</div>
								<div class="col-6">
									<div class="table-responsive ml-5">


												<br>
												<table class="table">
													<thead>
														<tr>
				<!--											<th scope="col" style="width: 10%;">Action</th>-->

														</tr>
													</thead>
													<tbody class="table-borderless">

														<tr>
															<td></td>
														</tr>

														<tr>
															<td colspan="4" id="right_next"><button type="button" class="btn btn-primary" id="first_next" onclick="right_next()" ><i class="fas fa-chevron-right"></i> Next</button></td>
														</tr>

														<tr>
															<td></td>
														</tr>

														<tr>
															<td></td>
														</tr>
													<tr>
														<td colspan="3" id="left_next"><button type="button"  id="last_prev" class="btn btn-primary" onclick="left_next()" ><i class="fas fa-chevron-left"></i> Prev One</button></td>
													</tr>
													<tr>
													</tr>
													<tr>
													</tr>

													</tbody>
												</table>
											</div>
								</div>
							</div>
						</div>



					<div class="row justify-content-center bg-button-2 p-4 mt-3" id="div-2" style="display: none;">

						<div class="col-md">
							<h5 class="font-weight-bold"> <span><i class="fas fa-caret-right"></i></span> Add Seller Account</h5>
							<div class="row">
								<div class="col-md-6 py-3">

									<form>
									  <div class="form-group">
									    <input type="text" class="form-control"  aria-describedby="emailHelp" placeholder="Enter Name ">
									  </div>
									  <div class="form-group">
									     <input type="text" class="form-control"  aria-describedby="emailHelp" placeholder="Enter Alias Name ">
									  </div>

									  <div class="form-group">
									     <input type="email" class="form-control"  aria-describedby="emailHelp" placeholder="Enter Email ">
									  </div>

									  <div class="form-group">
									     <input type="number" class="form-control"  aria-describedby="emailHelp" placeholder="Enter Contact Number ">
									  </div>

									  <div class="form-group">
									     <input type="password" class="form-control"  aria-describedby="emailHelp" placeholder="Enter Password ">
									  </div>

									<button class="btn btn-primary" type="submit">Submit</button>
									<button class="btn btn-danger" type="submit" onclick="cancel()">Cancel</button>
									</form>
								</div>
							</div>


						</div>

					</div>


					<div class="row justify-content-center bg-button-2 p-4 mt-3" id="div-3" style="display: none;">

						<div class="col-md">
							<h5 class="font-weight-bold"> <span><i class="fas fa-caret-right"></i></span> List Of Tested PWG</h5>
							<table class="table">
								<thead>
									<tr>
										<th scope="col">Sr. No.</th>
										<th scope="col">Name</th>
										<th scope="col">TESTED</th>



									</tr>
								</thead>
								<tbody id="myTable">
									<tr>
										<th scope="row">1</th>
										<td><a href="">PWG-1</a></td>
										<td><i class="fas fa-check pl-4"></i></td>


									</tr>

									<tr>
										<th scope="row">2</th>
										<td>PWG-2</td>
										<td><i class="fas fa-check pl-4"></i></td>

									</tr>
								</tbody>


							</table>

							<button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">Transfer Tested PWG to Seller</button>
							<!-- Modal -->
							<div class="modal fade" id="imagemodal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
							  <div class="modal-dialog">
								<div class="modal-content">
								  <div class="modal-header">
									<h5 class="modal-title font-weight-bold">PWG Passed</h5>
									<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
								  </div>
								  <div class="modal-body">
								  	<p id="removed_pwg"></p>
								  </div>

								  <div class="modal-footer">
									<button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
								  </div>
								</div>
							  </div>
							</div>


						</div>

					</div>

				</div>
			</div>
		</div>


	</div>
</section>








		<script type="text/javascript">
			var clicks = 0;
			var next_pass = 0;

			function randomText(length) {
				   var result           = '';
				   var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789(){}[]+-/*^_@#$%!&';
				   var charactersLength = characters.length;
				   for ( var i = 0; i < length; i++ ) {
					  result += characters.charAt(Math.floor(Math.random() * charactersLength));
				   }
				   return result;
				}

			function setNextPassValue(pwg_name){
					if(next_pass == 1){
						$("#password").html("The "+next_pass+"<sup>st</sup> Password");
					} else if(next_pass == 2){
						$("#password").html("The "+next_pass+"<sup>nd</sup> Password");
					} else if (next_pass == 3){
						$("#password").html("The "+next_pass+"<sup>rd</sup> Password");
					} else{
						$("#password").html("The "+next_pass+"<sup>th</sup> Password");
					}
					next_pass += 1
			}

			$(function(){
				$('#yourButton').click(function(){

					var btn = $(this);
					btn.html("Next Password");
					$('#randomText').html(randomText(15));
					btn.prop('disabled',true);
					window.setTimeout(function(){
						btn.prop('disabled',false);
					},10000);

					//fetching search bar's value
					pwg_name = $("#myInput").val();

					//displaying password section and text on the top
					//$("#password").css("display","block");
					//$("#randomText").css("display","block");

					setNextPassValue(pwg_name);

					if(next_pass > 3){
						$('#pass_pwg').prop('disabled',false);
						$('#pass').html('<a class="btn btn-success text-white my-2 mx-2"  onclick="myfun2()" id="pass_pwg">Pass</a>');
					}
					$('#fail_button').prop('disabled',false);
				});
			});



				// search filter table
				$(document).ready(function(){
					$("#myInput").on("keyup", function() {
						var value = $(this).val().toLowerCase();
						$("#myTable li").filter(function() {
							$(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
						});
					});
				});


		//for pass button
		function myfun2(){
			var pwg_name = $('#myInput').val();

			//fetching table's td values
			list = document.getElementById("myTable").getElementsByTagName("li");

			var len = list.length;

			for(i=0;i<len;i++){
				if(pwg_name == list[i].innerHTML.trim()){
					list[i].remove();
					$('#myInput').attr("value", "");
					$('#password').html("The XXX<sup>th</sup> Password");
					$('#randomText').html("");
					$('#yourButton').prop("disabled", true);
					break;
				}
			}

			// modal popup

				  //$("#removed_pwg").html(pwg_name+" is successfully Passed and send to tested list");
				  //$('.imagepreview').attr('src', $(this).find('img').attr('src'));
				  //$("#imagemodal1").modal("show");

		}







		//for fail button
		function myfun3(){

			var pwg_name = $('#myInput').val();

			//fetching table's td values
			list = document.getElementById("myTable").getElementsByTagName("li");

			var len = list.length;

			for(i=0;i<len;i++){
				if(pwg_name == list[i].innerHTML.trim()){
					list[i].remove();
					$('#myInput').attr("value","");
					$('#password').html("The XXX<sup>th</sup> Password");
					$('#randomText').html("");
					break;
				}
			}
		}


		function select_pwg(value){

		//displaying the buttons block
		$('#buttons').css("display", "flex");

		//resetting the value of next_pass, use to enable pass button
		$('#pass').html('<button class="nav-link btn-info btn text-white btn-sm my-2"  onclick="myfun2()" id="pass_pwg">Pass</button>');
		$('#pass_pwg').prop('disabled',true);
		next_pass = 0;


		//resetting Next Password password to get Password
			$('#yourButton').html("Get Password");

		//resetting Password field to empty
		$('#randomText').html("xxxxxxxxxx");
		$('#randomText').css("padding","0.5rem 1.4rem");


		$("#yourButton").removeAttr("disabled");
		$('#myInput').attr("value",value);




			//checking prev one button's value to set warning
			text = document.getElementById("first_next").innerHTML;
			if("Prev One" != text.slice(-8)){
				$('#left_next').html('<button type="button" id="last_prev" class="btn btn-primary" onclick="left_next()"><i class="fas fa-chevron-left"></i> Prev One</button>');
			}

			//checking Next button's value to set warning
				text = document.getElementById("last_prev").innerHTML;
				if("Next" != text.slice(-4)){
					$('#right_next').html('<button type="button" class="btn btn-primary" onclick="right_next()" id="first_next"><i class="fas fa-chevron-right"></i> Next</button>');
				}

			//making selected PWG highlighted and de-highlighted
			list = document.getElementById('myTable').getElementsByTagName("li");


			for(i=0;i<list.length;i++){
				if( value == list[i].innerHTML.trim()){
					id_name = list[i].getAttribute('id');

					$('#'+id_name).addClass("selected_pwg");
				} else{
					id_name = list[i].getAttribute('id');

					$('#'+id_name).removeClass("selected_pwg");
				}
			}

			//making password available when it got selected
			//$('#randomText').html(randomText(15));
			setNextPassValue(value);

		}




		function right_next(){
		//resetting the value of next_pass, use to enable pass button
		$('#pass').html('<button class="btn btn-info text-white my-2 mx-2"  onclick="myfun2()" id="pass_pwg">Pass</button>');
		$('#pass_pwg').attr('disabled','true');
		next_pass = 0;


		//resetting Next Password password to get Password
		$('#yourButton').html("Get Password");


		//resetting Password field to empty
		$('#randomText').html("xxxxxxxxxx");
		$('#randomText').css("padding","0.5rem 1.4rem");

		//displaying the buttons block
		$('#buttons').css("display", "flex");

		//enabling next password button to get next password
		$("#yourButton").removeAttr("disabled");

		//checking prev one button's value to set warning
			text = document.getElementById("first_next").innerHTML;
				if("Prev One" != text.slice(-8)){
					$('#left_next').html('<button type="button" id="last_prev" class="btn btn-primary" onclick="left_next()"><i class="fas fa-chevron-left"></i> Prev One</button>');
				}

			//checking Selected PWG's value to set pwg according
			text = $("#myInput").val();

			//fetching ul's li values
			list = document.getElementById('myTable').getElementsByTagName("li");

			var len = list.length;

			//for the first time it will set pwg name using global click var
			if(text == ""){
				$("#myInput").attr("value", list[clicks].innerHTML.trim());
				//document.getElementById("password").innerHTML = 'The XXXth Password Of '+rows[clicks].getElementsByTagName("td")[0].innerHTML+' is Below';
				//showing password when it got selected
				//$('#randomText').html(randomText(15));
				setNextPassValue(list[clicks].innerHTML);

				clicks += 1;

				//Highlighting selected PWG
				id_name = list[0].getAttribute('id');
				$('#'+id_name).addClass("selected_pwg");

			}else{
				//making selected PWG de-highlighted
				id_name = list[0].getAttribute('id');
				$('#'+id_name).removeClass("selected_pwg");
				for(i=0;i<len;i++){
					if(text == list[i].innerHTML.trim()){
						if(i+1 < len){
							text = list[i+1].innerHTML.trim();
							$("#myInput").attr("value",text);
							//document.getElementById("password").innerHTML = 'The XXXth Password Of '+rows[i+1].getElementsByTagName("td")[0].innerHTML+' is Below';

							//showing password when it got selected
							//$('#randomText').html(randomText(15));
							setNextPassValue(list[i+1].innerHTML.trim());
							break;
						} else{
							$('#right_next').html('<button type="button" class="btn btn-info" id="first_next">Next</button>');
						}
					}
				}
			}

			//making selected PWG highlighted and de-highlighted

			for(i=1;i<len;i++){
				if( text == list[i].innerHTML.trim()){
					id_name = list[i].getAttribute('id');
					$('#'+id_name).addClass("selected_pwg");
				} else{
					id_name = list[i].getAttribute('id');
					$('#'+id_name).removeClass("selected_pwg");
				}
			}


		}


		function left_next(){
				//resetting the value of next_pass, use to enable pass button
				$('#pass').html('<button class="btn btn-info text-white my-2 mx-2"  onclick="myfun2()" id="pass_pwg">Pass</button>');
				$('#pass_pwg').attr('disabled',"true");
				next_pass = 0;


				//resetting Next Password  to get Password
				$('#yourButton').html("Get Password");

				//resetting Password field to empty
				$('#randomText').html("xxxxxxxxxx");


				//enabling next password button to get next password
				$("#yourButton").removeAttr("disabled");


				//checking Next button's value to set warning
				text = document.getElementById("last_prev").innerHTML;
				if("Next" != text.slice(-4)){
					$('#right_next').html('<button type="button" class="btn btn-primary" onclick="right_next()" id="first_next"><i class="fas fa-chevron-right"></i> Next</button>');
				}

				//checking Selected PWG's value to set pwg according
				text = $("#myInput").val();

				//fetching ul's li values
				list = document.getElementById('myTable').getElementsByTagName("li");
				var len = list.length;


				//for the first time it will set warning using text
				if(text == ""){
					$('#left_next').html('<button type="button" class="btn btn-info" id="last_prev">Prev One</button>');
				}else{
					for(i=0;i<len;i++){
						if(text == list[i].innerHTML.trim()){
							if(i-1 >= 0){
								//displaying the buttons block
								$('#buttons').css("display", "flex");

								text = list[i-1].innerHTML.trim();
								$("#myInput").attr("value", text);
								//document.getElementById("password").innerHTML = 'The XXXth Password Of '+rows[i-1].getElementsByTagName("td")[0].innerHTML+' is Below';

								//showing password when it got selected
								//$('#randomText').html(randomText(15));
								setNextPassValue(list[i-1].innerHTML.trim());
								break;
							}else{
								$('#left_next').html('<button type="button" class="btn btn-info" id="last_prev">Prev One</button>');
								break;
							}
						}
					}
				}

				//making selected PWG highlighted and de-highlighted
				//table = document.getElementById('myTable');
				//rows = table.rows;
				for(i=0;i<len;i++){
					if( text == list[i].innerHTML.trim()){
						id_name = list[i].getAttribute('id');
						$('#'+id_name).addClass("selected_pwg");
					} else{
						id_name = list[i].getAttribute('id');
						$('#'+id_name).removeClass("selected_pwg");
					}
				}
		}
	</script>
</body>
</html>
